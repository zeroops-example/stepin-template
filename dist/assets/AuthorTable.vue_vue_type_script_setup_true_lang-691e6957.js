import{d as z,x as T,no as f,r as b,b as O,c as i,e as r,g as o,w as s,n7 as G,F as C,nh as J,j as y,i as x,f as d,t as c,k as K,af as Q,B as W,nj as X,ni as ee,nn as te,ne as ae}from"./index-b9213c70.js";import{a as ne}from"./index-3c6ec0c7.js";import{_ as oe}from"./index-c956c73f.js";import{_ as se,D as le}from"./index-0ad9ec30.js";import{g as ie,_ as de}from"./file-2a54393d.js";import"./index-09bd6b0c.js";const ue=["src"],ce={class:"flex justify-between pr-4"},_e=d("h4",null,"成员表格",-1),me={key:0,class:"flex items-stretch"},pe=["src"],re={class:"flex-col flex justify-evenly ml-2"},ve={class:"text-title font-bold"},fe={class:"text-xs text-subtext"},be={key:1,class:""},xe={class:"text-title font-bold"},ge={class:"text-subtext"},ye={class:"text-subtext"},he={key:5,class:"text-subtext"},Ce=z({__name:"AuthorTable",setup(ke){const N=[{title:"AUTHOR",dataIndex:"name"},{title:"FUNCTION",dataIndex:"position"},{title:"STATUS",dataIndex:"status"},{title:"EMPLOYED",dataIndex:"time"},{title:"OPERATION",dataIndex:"edit",width:200}],h=T([{name:"Li Zhi",email:"1126263215@qq.com",avatar:"/src/assets/avatar/face-1.jpg",jobs:"developer",department:"Technical",status:1,time:f()},{name:"Li Zhi",email:"1126263215@qq.com",avatar:"/src/assets/avatar/face-2.jpg",jobs:"developer",department:"Technical",status:0,time:f()},{name:"Li Zhi",email:"1126263215@qq.com",avatar:"/src/assets/avatar/face-3.jpg",jobs:"developer",department:"Technical",status:1,time:f()},{name:"Li Zhi",email:"1126263215@qq.com",avatar:"/src/assets/avatar/face-4.jpg",jobs:"developer",department:"Technical",status:0,time:f()}]);function B(){u.value=!0,a._isNew=!0}const u=b(!1),k=t=>(t||(t={_isNew:!0}),t.name=void 0,t.email=void 0,t.avatar=void 0,t.position=[],t.department=void 0,t.jobs=void 0,t.status=0,t.time=f(),t),j=(t,e)=>{if(!e)return t;Object.keys(t).forEach(l=>t[l]=e[l])},a=T(k());function I(){return k(a)}function D(){u.value=!1,I()}const w=b(),g=b(!1);async function M(t,e){await ie(t).then(l=>{e.avatar=l})}function E(){var t;g.value=!0,(t=w.value)==null||t.validateFields().then(e=>{var l,_;e.department=(l=e==null?void 0:e.position)==null?void 0:l[0],e.jobs=(_=e==null?void 0:e.position)==null?void 0:_[1],a._isNew?h.push({...e}):j(U.value,e),u.value=!1,I()}).catch(e=>{console.error(e)}).finally(()=>{g.value=!1})}const U=b();function F(t){U.value=t,j(a,t),a.position=[a.department,a.jobs],u.value=!0}const L={0:"offline",1:"online"};return(t,e)=>{const l=O("UploadOutlined"),_=W,P=de,m=X,q=ee,S=se,A=oe,Y=le,Z=te,R=J,V=O("PlusOutlined"),$=ae,H=ne;return i(),r(C,null,[o(R,{title:a._isNew?"新增作者":"编辑作者",visible:u.value,"onUpdate:visible":e[5]||(e[5]=n=>u.value=n),onOk:E,onCancel:D},{default:s(()=>[o(Z,{ref_key:"formModel",ref:w,model:a,labelCol:{span:5},wrapperCol:{span:16}},{default:s(()=>[o(m,{label:"头像",required:"",name:"avatar"},{default:s(()=>[o(P,{"show-upload-list":!1,beforeUpload:n=>M(n,a)},{default:s(()=>[a.avatar?(i(),r("img",{key:0,class:"h-8 p-0.5 rounded border border-dashed border-border",src:a.avatar},null,8,ue)):(i(),y(_,{key:1,type:"dashed"},{icon:s(()=>[o(l)]),default:s(()=>[x(" 上传 ")]),_:1}))]),_:1},8,["beforeUpload"])]),_:1}),o(m,{label:"姓名",required:"",name:"name"},{default:s(()=>[o(q,{value:a.name,"onUpdate:value":e[0]||(e[0]=n=>a.name=n)},null,8,["value"])]),_:1}),o(m,{required:"",label:"邮箱",name:"email"},{default:s(()=>[o(q,{value:a.email,"onUpdate:value":e[1]||(e[1]=n=>a.email=n)},null,8,["value"])]),_:1}),o(m,{required:"",label:"岗位",name:"position"},{default:s(()=>[o(S,{value:a.position,"onUpdate:value":e[2]||(e[2]=n=>a.position=n),options:[{label:"IT部",value:"IT部",children:[{label:"前端开发",value:"前端开发"},{label:"后端开发",value:"后端开发"},{label:"UI设计师",value:"UI设计师"}]}]},null,8,["value"])]),_:1}),o(m,{required:"",label:"状态",name:"status"},{default:s(()=>[o(A,{style:{width:"90px"},value:a.status,"onUpdate:value":e[3]||(e[3]=n=>a.status=n),options:[{label:"offline",value:0},{label:"online",value:1}]},null,8,["value"])]),_:1}),o(m,{label:"日期",name:"time"},{default:s(()=>[o(Y,{value:a.time,"onUpdate:value":e[4]||(e[4]=n=>a.time=n)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title","visible"]),o(H,G(t.$attrs,{columns:N,dataSource:h,pagination:!1}),{title:s(()=>[d("div",ce,[_e,o(_,{type:"primary",onClick:B,loading:g.value},{icon:s(()=>[o(V)]),default:s(()=>[x(" 新增 ")]),_:1},8,["loading"])])]),bodyCell:s(({column:n,text:p,record:v})=>[n.dataIndex==="name"?(i(),r("div",me,[d("img",{class:"w-12 rounded",src:v.avatar},null,8,pe),d("div",re,[d("span",ve,c(p),1),d("span",fe,c(v.email),1)])])):n.dataIndex==="position"?(i(),r("div",be,[d("div",xe,c(v.jobs),1),d("div",ge,c(v.department),1)])):n.dataIndex==="status"?(i(),y($,{key:2,class:"text-subtext",color:"green"},{text:s(()=>[d("span",ye,c(L[p]),1)]),_:2},1024)):n.dataIndex==="time"?(i(),r(C,{key:3},[x(c(p==null?void 0:p.format("YYYY-MM-DD")),1)],64)):n.dataIndex==="edit"?(i(),y(_,{key:4,disabled:u.value,type:"link",onClick:je=>F(v)},{icon:s(()=>[o(K(Q))]),default:s(()=>[x(" 编辑 ")]),_:2},1032,["disabled","onClick"])):(i(),r("div",he,c(p),1))]),_:1},16,["dataSource"])],64)}}});export{Ce as _};
//# sourceMappingURL=AuthorTable.vue_vue_type_script_setup_true_lang-691e6957.js.map
