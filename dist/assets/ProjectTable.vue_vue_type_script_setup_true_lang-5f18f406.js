import{d as N,x as E,c as o,j as u,w as t,n7 as O,e as c,g as s,k as l,aj as j,f as r,t as m,i as d,af as P,kr as V,F as $,I as D,je as M,np as R,B as Y,ni as A,ne as F}from"./index-b9213c70.js";import{a as z,b as H,c as G,d as L}from"./index-3c6ec0c7.js";import"./index-c956c73f.js";import{_ as W}from"./index-09bd6b0c.js";import{g as q,_ as J}from"./file-2a54393d.js";import{E as _}from"./EditableCell-484717a7.js";const K={key:0,class:"flex items-center"},Q=["src"],X=["src"],Z={class:"ml-2 text-title text-base"},ie=N({__name:"ProjectTable",setup(ee){const y=[{title:"COMPANIES",dataIndex:"company"},{title:"BUDGET",dataIndex:"budget",customRender:({text:n})=>`$${n}`},{title:"STATUS",dataIndex:"status"},{title:"COMPLETION",dataIndex:"progress"},{title:"OPERATION",dataIndex:"operation",width:200,align:"center"}],g=E([{logo:"/src/assets/logo/shopify.svg",company:"shopify",budget:1200,status:1,progress:90},{logo:"/src/assets/logo/atlassian.svg",company:"atlassian",budget:1200,status:1,progress:90},{logo:"/src/assets/logo/invision.svg",company:"invision",budget:1200,status:1,progress:90},{logo:"/src/assets/logo/jira.svg",company:"jira",budget:1200,status:1,progress:90}]),b=n=>{switch(n){case-1:return"exception";case 0:return"pause";case 1:return"working";default:return"unknown"}};function v(n){n._edit=!1,R.success("修改成功")}function x(n,f){q(n).then(i=>{f.logo=i})}function k(){g.push({progress:10,_edit:!0})}return(n,f)=>{const i=Y,h=J,w=A,I=F,U=W,C=H,S=G,T=L,B=z;return o(),u(B,O({title:()=>"工程表格"},n.$attrs,{columns:y,dataSource:g,pagination:!1,rowClassName:"text-subtext"}),{bodyCell:t(({column:p,text:te,record:e})=>[p.dataIndex==="company"?(o(),c("div",K,[s(l(_),{options:{size:"small",format:"YYYY-MM-DD HH:mm",showTime:!0},edit:e._edit,value:e.company,"onUpdate:value":a=>e.company=a},{input:t(()=>[s(h,{"show-upload-list":!1,beforeUpload:a=>x(a,e)},{default:t(()=>[e.logo?(o(),c("img",{key:0,class:"h-8 rounded border border-dashed border-border p-0.5",src:e.logo},null,8,Q)):(o(),u(i,{key:1,loading:!1,type:"dashed"},{icon:t(()=>[s(l(j))]),_:1}))]),_:2},1032,["beforeUpload"]),s(w,{class:"ml-2",value:e.company,"onUpdate:value":a=>e.company=a},null,8,["value","onUpdate:value"])]),default:t(()=>[r("img",{class:"w-8 rounded",src:e.logo},null,8,X),r("span",Z,m(e.company),1)]),_:2},1032,["edit","value","onUpdate:value"])])):p.dataIndex==="budget"?(o(),u(l(_),{key:1,value:e.budget,"onUpdate:value":a=>e.budget=a,edit:e._edit,options:{prefix:"￥"}},{default:t(()=>[d(" ￥"+m(e.budget),1)]),_:2},1032,["value","onUpdate:value","edit"])):p.dataIndex==="status"?(o(),u(l(_),{key:2,edit:e._edit,value:e.status,"onUpdate:value":a=>e.status=a,type:"select",options:{options:[{label:"exception",value:-1},{label:"pause",value:0},{label:"working",value:1}],class:"w-24"}},{default:t(()=>[s(I,{color:"blue"},{text:t(()=>[r("span",null,m(b(e.status)),1)]),_:2},1024)]),_:2},1032,["edit","value","onUpdate:value"])):p.dataIndex==="progress"?(o(),u(l(_),{key:3,edit:e._edit,value:e.progress,"onUpdate:value":a=>e.progress=a,type:"slider",options:{tooltipVisible:!0}},{default:t(()=>[s(U,{strokeWidth:4,percent:e.progress,status:"exception"},null,8,["percent"])]),_:2},1032,["edit","value","onUpdate:value"])):p.dataIndex==="operation"?(o(),c($,{key:4},[e._edit?(o(),u(i,{key:1,type:"link",onClick:a=>v(e)},{icon:t(()=>[s(l(V))]),default:t(()=>[d(" 保存 ")]),_:2},1032,["onClick"])):(o(),u(i,{key:0,type:"link",onClick:a=>e._edit=!0},{icon:t(()=>[s(l(P))]),default:t(()=>[d(" 编辑 ")]),_:2},1032,["onClick"]))],64)):D("",!0)]),summary:t(()=>[s(T,null,{default:t(()=>[s(S,null,{default:t(()=>[s(C,{colspan:"5"},{default:t(()=>[s(i,{size:"large",class:"w-full",type:"dashed",onClick:k},{default:t(()=>[s(l(M)),d(" 新增一列 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},16,["title","dataSource"])}}});export{ie as _};
//# sourceMappingURL=ProjectTable.vue_vue_type_script_setup_true_lang-5f18f406.js.map
